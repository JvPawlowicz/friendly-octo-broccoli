Blueprint_SynapsePlus_Modulos_v1.0.md

Produto: Synapse+ (white-label) ‚Ä¢ Stack: Laravel 11 + Filament + Livewire 3 + TailwindCSS + MySQL 8 ‚Ä¢ Arquitetura: Mon√≥lito modular, offline-ready, sem APIs externas
Autor: Jo√£o Victor Gonzalez Pawlowicz ‚Ä¢ Data: Nov/2025

EN short note: This is the full functional + technical blueprint for Synapse+. Laravel + Filament + Livewire monolith, no external APIs. Each module below includes objectives, UX, flows, permissions, data model and component map so Cursor can generate code directly.

‚∏ª

0) Vis√£o Geral (Overview)
	‚Ä¢	Pap√©is (roles): Admin Global, Coordenador, Profissional, Secret√°ria.
	‚Ä¢	Escopo por unidade: ScopeUnit middleware filtra tudo por unit_id (Admin ignora).
	‚Ä¢	Marca branca (white-label): Nome, logo, cores, rodap√© e mensagens edit√°veis via Filament.
	‚Ä¢	Landing + Login: Landing institucional (status do sistema) ‚Üí Login ‚Üí App.
	‚Ä¢	Sidebar: Rel√≥gio em tempo real + seletor de unidade (dropdown), vis√≠vel para usu√°rios com >1 unidade.
	‚Ä¢	Agenda inteligente: Visual unificada (admin/coordenador), cores por profissional (configur√°vel), clique em c√©lula cria agendamento com data=hoje e dura√ß√£o padr√£o=1h (edit√°vel).
	‚Ä¢	Evolu√ß√£o autom√°tica: Ao marcar atendimento como Conclu√≠do, cria Evolu√ß√£o pendente para o profissional.
	‚Ä¢	Avalia√ß√£o independente: Criada manualmente (profissional/coordenador/admin), baseada em templates (somente admin cria no Filament).
	‚Ä¢	Chat interno: Chatify sem Pusher (polling Livewire), Admin v√™ todas mensagens.
	‚Ä¢	Sem APIs externas: exports locais (PDF/CSV), gr√°ficos locais (Chart.js).
	‚Ä¢	Backups & Auditoria: Cron di√°rio, logs de a√ß√µes, exporta√ß√µes CSV.

‚∏ª

1) Dashboard

1.1 Objetivo

Vis√£o de trabalho e sa√∫de operacional. Cards e gr√°ficos variam por role.

EN: Role-aware overview with cards, KPIs and quick links.

1.2 UX/Comportamento
	‚Ä¢	Cards (exemplos):
	‚Ä¢	Agendamentos do dia (por unidade / profissional).
	‚Ä¢	Evolu√ß√µes pendentes (do usu√°rio e da unidade).
	‚Ä¢	Avalia√ß√µes em andamento.
	‚Ä¢	Faltas do dia (no-show).
	‚Ä¢	Gr√°ficos: produtividade por profissional (semana/m√™s), frequ√™ncia por paciente.
	‚Ä¢	Acesso r√°pido: bot√µes para ‚ÄúNovo Agendamento‚Äù, ‚ÄúNovo Paciente‚Äù, ‚ÄúMinhas Pend√™ncias‚Äù.
	‚Ä¢	Responsivo: grid 1‚Äì4 colunas; skeletons em loading.

1.3 Permiss√µes
	‚Ä¢	Admin: todos os dados (todas as unidades).
	‚Ä¢	Coordenador: dados da unidade atual.
	‚Ä¢	Profissional: pr√≥prios dados (e pend√™ncias).
	‚Ä¢	Secret√°ria: agenda e cadastros b√°sicos.

1.4 Modelo de Dados (leitura)

Consultas-read agregadas (services) sobre appointments, evolutions, assessments.

1.5 Componentes
	‚Ä¢	Livewire: Dashboard/DashboardOverview (cards, gr√°ficos, atalhos).
	‚Ä¢	Blade: x-card, x-kpi, x-chart.

‚∏ª

2) Agenda Inteligente

2.1 Objetivo

Planejamento e opera√ß√£o di√°ria. Leitura ‚Äúde relance‚Äù, cria√ß√£o √°gil, personaliza√ß√£o por profissional.

EN: Unified calendar with color-coded professionals, quick create on click, day/week/month/list views.

2.2 UX/Comportamento
	‚Ä¢	Visual unificada (Admin/Coordenador): m√∫ltiplos profissionais com cores pr√≥prias.
	‚Ä¢	Cores por profissional: configur√°veis em ‚ÄúConfigura√ß√µes ‚Üí Apar√™ncia ‚Üí Cor do Profissional‚Äù; aplicadas no card (borda/fundo transl√∫cido).
	‚Ä¢	Legibilidade do evento:
	‚Ä¢	Linha 1: Hor√°rio (negrito)
	‚Ä¢	Linha 2: Paciente (tooltip com idade/alertas)
	‚Ä¢	Linha 3: Profissional (nome colorido) + especialidade (opcional)
	‚Ä¢	Status com √≠cone/cor (‚ö™ pendente, üü° confirmado, üü¢ check-in, üîµ conclu√≠do, üî¥ cancelado).
	‚Ä¢	Clique em c√©lula vazia: abre modal ‚ÄúNovo agendamento‚Äù com data=hoje, hora inicial=clicada, hora final=+1h (edit√°vel).
	‚Ä¢	Arrastar (‚Äúdrag‚Äù) entre slots: altera hor√°rio mantendo dura√ß√£o (opcional).
	‚Ä¢	Modos de visualiza√ß√£o: m√™s / semana / dia / lista; prefer√™ncias persistidas (localStorage).
	‚Ä¢	Filtros: unidade, profissional, paciente, sala, status; persistidos em sess√£o.
	‚Ä¢	Mini timeline lateral: pr√≥ximos hor√°rios livres.
	‚Ä¢	Atalhos: ‚Üê ‚Üí navega dias; N = novo agendamento; F = foco dia atual.

2.3 Regras e L√≥gica
	‚Ä¢	Dura√ß√£o padr√£o: 60 min (config geral; pode ser 30/45/50/60).
	‚Ä¢	Ajuste autom√°tico do final: ao mudar in√≠cio, recalcula fim = in√≠cio + dura√ß√£o padr√£o (edit√°vel).
	‚Ä¢	Valida√ß√µes:
	‚Ä¢	end_time > start_time
	‚Ä¢	evitar sobreposi√ß√£o do mesmo profissional (warning com sugest√£o de hor√°rios alternativos)
	‚Ä¢	bloqueios por indisponibilidade/feriados
	‚Ä¢	agendar no passado: bloqueado (Admin pode for√ßar)
	‚Ä¢	Status de fluxo: Agendado ‚Üí Confirmado ‚Üí Check-in ‚Üí Em andamento ‚Üí Conclu√≠do ‚Üí (dispara Evolu√ß√£o).

2.4 Permiss√µes
	‚Ä¢	Admin/Coordenador: ver todos (unidade/all), criar/editar/cancelar.
	‚Ä¢	Profissional: ver pr√≥prios; criar/editar seus.
	‚Ä¢	Secret√°ria: ver unidade; criar/editar/cancelar.

2.5 Dados (tabelas principais)
	‚Ä¢	appointments: id, unit_id, room_id, professional_id, patient_id, start_at, end_at, status, category_id, notes.
	‚Ä¢	rooms, appointment_categories (por unidade).
	‚Ä¢	Prefer√™ncias: user_preferences (default_view, default_duration, default_unit_id, etc).

2.6 Componentes
	‚Ä¢	Livewire:
	‚Ä¢	Agenda/Calendar (grid + navega√ß√£o),
	‚Ä¢	Agenda/AppointmentModal (criar/editar; auto-preenchimento contextual),
	‚Ä¢	Agenda/FilterSidebar (filtros),
	‚Ä¢	Agenda/EventCard (render do slot).
	‚Ä¢	Blade: x-agenda.legend (cores ‚Üí profissionais).

‚∏ª

3) Pacientes

3.1 Objetivo

Cadastro m√≠nimo + prontu√°rio unificado com documentos e timeline.

EN: Minimal create, full unified record with timeline and clinical alerts.

3.2 UX/Comportamento
	‚Ä¢	Cadastro m√≠nimo: nome obrigat√≥rio (restante opcional).
	‚Ä¢	Campos cl√≠nicos: diagn√≥stico(s), alergias, medica√ß√µes, plano de crise, restri√ß√µes sensoriais, contatos respons√°veis.
	‚Ä¢	Tags cl√≠nicas: TEA, TDAH, etc.
	‚Ä¢	Uploads: PDF/JPG/PNG por categorias (laudos, exames, relat√≥rios); drag & drop multi-upload.
	‚Ä¢	Timeline do paciente: Evolu√ß√µes, Avalia√ß√µes, Documentos com datas e autores.
	‚Ä¢	Alertas visuais: alergias, risco, protocolos especiais.

3.3 Permiss√µes
	‚Ä¢	Admin/Coordenador: ver/editar pacientes da unidade.
	‚Ä¢	Profissional: ver/editar pacientes pr√≥prios (e da unidade, conforme policy).
	‚Ä¢	Secret√°ria: criar/editar dados b√°sicos; sem acesso a conte√∫do cl√≠nico sens√≠vel (policy).

3.4 Dados
	‚Ä¢	patients: id, unit_id, name, birthdate, diagnosis_tags(json), allergies, medications, crisis_plan, notes, ...
	‚Ä¢	patient_documents: patient_id, category, path, uploaded_by
	‚Ä¢	patient_timeline_events: patient_id, type(evolution/assessment/document), ref_id, created_by

3.5 Componentes
	‚Ä¢	Livewire: Patients/PatientList, Patients/PatientProfile, Patients/PatientDocuments.
	‚Ä¢	Blade: x-patient.card, x-timeline.

‚∏ª

4) Evolu√ß√µes

4.1 Objetivo

Registro cl√≠nico por sess√£o conclu√≠da, com fluxo de pend√™ncias, rascunho e finaliza√ß√£o.

EN: Auto-created on completed appointment; drafts; simple signature; reviewable by coordinator.

4.2 Fluxo
	1.	Agendamento ‚Üí Conclu√≠do ‚áí cria Evolu√ß√£o (pendente): patient_id, appointment_id, professional_id, unit_id.
	2.	Profissional abre, preenche (autosave rascunho), e finaliza (assinatura confirmat√≥ria simples).
	3.	Coordenador/Admin podem revisar e marcar ‚ÄúRevisada‚Äù.
	4.	Evolu√ß√£o entra na Timeline do paciente.

4.3 Estados
	‚Ä¢	pendente ‚Üí rascunho ‚Üí finalizada ‚Üí revisada ‚Üí arquivada (admin).

4.4 Campos
	‚Ä¢	Relato cl√≠nico, conduta, objetivos, observa√ß√µes internas (vis√≠vel coord/admin), finalized_at, reviewed_at, signature_meta.

4.5 Permiss√µes
	‚Ä¢	Profissional: CRUD da sua evolu√ß√£o (at√© finalizar); adendos ap√≥s finalizada.
	‚Ä¢	Coordenador: visualizar unidade, revisar.
	‚Ä¢	Admin: total.

4.6 Dados
	‚Ä¢	evolutions: id, unit_id, appointment_id, patient_id, professional_id, status, content(json/rich), signature_meta(json), reviewed_by, ...
	‚Ä¢	evolution_addendums: addenda vinculados.

4.7 Componentes
	‚Ä¢	Livewire: Evolutions/EvolutionEditor, Evolutions/PendingEvolutions.
	‚Ä¢	Exports: PDF (dompdf).

‚∏ª

5) Avalia√ß√µes

5.1 Objetivo

Formul√°rios estruturados (anamnese, peri√≥dicas, protocolos), a partir de templates.

EN: Internal form builder; admin-managed templates; professional fills, coordinator reviews.

5.2 Fluxo
	‚Ä¢	Admin (Filament) cria/edita Templates com campos (JSON).
	‚Ä¢	Profissional/Coordenador/Admin iniciam avalia√ß√£o para um paciente (independente da agenda).
	‚Ä¢	Autosave durante preenchimento.
	‚Ä¢	Finalizar & assinar (bloqueia edi√ß√£o; coord/admin podem revisar).
	‚Ä¢	Entra na Timeline.

5.3 Templates (via Filament)
	‚Ä¢	Campos: tipo (texto, n√∫mero, data, select, checkbox, upload), obrigatoriedade, visibilidade, categoria (anamnese/peri√≥dica/etc.), vers√£o (version).
	‚Ä¢	Apenas Admin cria/edita templates.

5.4 Estados

em_preenchimento ‚Üí finalizada ‚Üí revisada.

5.5 Permiss√µes
	‚Ä¢	Profissional: criar/preencher pr√≥prias; ver suas finalizadas; sem editar ap√≥s finalizar.
	‚Ä¢	Coordenador: ver todas da unidade; revisar.
	‚Ä¢	Admin: total; gerencia templates.

5.6 Dados
	‚Ä¢	assessment_templates: id, unit_id|null, name, version, fields(json), category
	‚Ä¢	assessments: id, unit_id, patient_id, professional_id, template_id, responses(json), status, signature_meta, ...

5.7 Componentes
	‚Ä¢	Livewire: Assessments/AssessmentFormBuilder (admin), Assessments/PatientAssessments (preenchimento).
	‚Ä¢	Preview: x-template.preview.
	‚Ä¢	Exports: PDF.

‚∏ª

6) Relat√≥rios

6.1 Objetivo

Vis√µes cl√≠nicas e operacionais filtr√°veis e export√°veis.

EN: Local charts & exports; saved filters; role-aware scope.

6.2 Tipos
	‚Ä¢	Cl√≠nico: evolu√ß√µes, avalia√ß√µes por per√≠odo/unidade/profissional.
	‚Ä¢	Atendimentos: volume, status, taxa de no-show.
	‚Ä¢	Produtividade por profissional: atendimentos/h, finaliza√ß√µes de evolu√ß√£o.
	‚Ä¢	Frequ√™ncia por paciente: presen√ßas vs faltas.
	‚Ä¢	Unidade: vis√£o consolidada.

6.3 UX
	‚Ä¢	Filtros persistentes; bot√µes ‚ÄúSalvar filtro‚Äù e ‚ÄúExportar (PDF/CSV)‚Äù.
	‚Ä¢	Gr√°ficos (Chart.js) + tabelas.
	‚Ä¢	Modo ‚ÄúLeitura‚Äù para impress√£o.

6.4 Permiss√µes
	‚Ä¢	Admin: global.
	‚Ä¢	Coordenador: unidade.
	‚Ä¢	Profissional: vis√£o pr√≥pria (produtividade pessoal).
	‚Ä¢	Secret√°ria: relat√≥rios operacionais b√°sicos (agenda/frequ√™ncia).

6.5 Componentes
	‚Ä¢	Livewire: Reports/ReportGenerator (multitab: Cl√≠nico, Atendimentos, Produtividade, Frequ√™ncia, Unidade).
	‚Ä¢	Exports: dompdf/CSV.

‚∏ª

7) Configura√ß√µes

7.1 Objetivo

Personalizar sistema, apar√™ncia, usu√°rios/unidades e regras operacionais.

EN: Branding, appearance, users & units, schedules, system status, backups.

7.2 Se√ß√µes (Livewire + Filament onde indicado)
	‚Ä¢	Perfil & Prefer√™ncias (usu√°rio): tema claro/escuro (auto), unidade padr√£o, cor do profissional.
	‚Ä¢	Unidades & Salas (Admin/Coord): CRUD; capacidade, feriados, bloqueios.
	‚Ä¢	Usu√°rios & Permiss√µes (Admin): CRUD, roles (Spatie), vincula√ß√£o de unidade(s), impersonate.
	‚Ä¢	Apar√™ncia (Admin): cores, tipografia, densidade de layout, √≠cones.
	‚Ä¢	Branding (Admin): system_name, logo, favicon, tagline, rodap√©.
	‚Ä¢	Status do sistema (Admin via Filament): online/manuten√ß√£o/offline + mensagem; vers√£o atual.
	‚Ä¢	Regras de agenda (Admin/Coord): dura√ß√£o padr√£o (30/45/50/60), hor√°rios √∫teis por dia, bloqueios.
	‚Ä¢	Backups & Logs (Admin): visualizar lista de backups, gerar/baixar/restaurar.

7.3 Dados
	‚Ä¢	system_settings: nome, logo, cores, status, mensagens, vers√£o.
	‚Ä¢	professional_schedules: disponibilidade e bloqueios por usu√°rio.
	‚Ä¢	user_preferences: tema, view agenda, unidade padr√£o, cor.

‚∏ª

8) Chat Interno (Chatify + Livewire Polling)

8.1 Objetivo

Comunica√ß√£o interna simples e audit√°vel, sem servi√ßos externos.

EN: Chatify UI, replace Pusher with Livewire polling, admin can audit all messages.

8.2 Comportamento
	‚Ä¢	Canais: 1:1 (privado) e unidade (grupo da unidade).
	‚Ä¢	Polling: wire:poll.3s (busca mensagens novas).
	‚Ä¢	Admin: visualiza todas as conversas (auditoria).
	‚Ä¢	Uploads: imagens (sem √°udio).
	‚Ä¢	Notifica√ß√µes visuais: badge na aba chat.

8.3 Dados
	‚Ä¢	messages: id, unit_id|null, thread_id|null, sender_id, receiver_id|null, content, attachments(json), created_at.
	‚Ä¢	Opcional: threads para conversas persistentes.

8.4 Componentes
	‚Ä¢	Livewire: Chat/ChatRoom (lista + hist√≥rico), Chat/MessageInput.
	‚Ä¢	Blade: x-chat.sidebar (acesso flutuante).

‚∏ª

9) Logs & Auditoria + Backups

9.1 Objetivo

Rastreabilidade, seguran√ßa e recupera√ß√£o.

EN: Action logs, login logs, daily DB+storage backups with restore UI.

9.2 Auditoria
	‚Ä¢	Logs de login: IP, user agent, hor√°rio.
	‚Ä¢	Logs de a√ß√µes: create/update/delete, entidade, payload (JSON redigido).
	‚Ä¢	Exibi√ß√£o: linha do tempo por usu√°rio e por entidade; filtros e export CSV.

9.3 Backups
	‚Ä¢	Cron di√°rio: dump do MySQL + compacta√ß√£o do storage.
	‚Ä¢	UI (Admin): listar backups, baixar/restaurar; alerta de √∫ltimo backup.
	‚Ä¢	Integridade: checagem simples (tabelas essenciais existem? tamanhos plaus√≠veis?).

9.4 Dados
	‚Ä¢	audit_logs: id, user_id, action, entity, entity_id, payload(json), ip, user_agent, created_at.
	‚Ä¢	backups_index (opcional): metadados de backups existentes.

9.5 Componentes
	‚Ä¢	Livewire: AuditLogs/AuditLogViewer, Settings/BackupLogs.

‚∏ª

10) Seguran√ßa, Permiss√µes e Escopo

10.1 Diretrizes
	‚Ä¢	Spatie Roles: admin, coordenador, profissional, secretaria.
	‚Ä¢	Policies: por modelo (Patient, Appointment, Evolution, Assessment, etc.).
	‚Ä¢	ScopeUnit Middleware: filtra queries por unidade (Admin ignora).
	‚Ä¢	Valida√ß√£o server-side: Form Requests para todos os forms.
	‚Ä¢	Sanitiza√ß√£o: conte√∫do rico higienizado antes de salvar/exibir.
	‚Ä¢	CSRF: nativo; Rate-limit em login (Breeze).
	‚Ä¢	LGPD: m√≠nimo necess√°rio; documentos em storage/app/public/unit_{id}/....

‚∏ª

11) Intera√ß√µes, Acessibilidade e UX Writing

11.1 Micro-intera√ß√µes
	‚Ä¢	Toasts/sucesso/erro: canto inferior direito.
	‚Ä¢	wire:loading: bot√µes com spinner; skeletons em listas.
	‚Ä¢	Tooltips: √≠cones de ajuda com descri√ß√µes.
	‚Ä¢	Command Palette (Ctrl+K): buscar paciente, agendamento, relat√≥rio, unidade.
	‚Ä¢	Modo Foco/Leitura: oculta sidebar/header para ler prontu√°rio/relat√≥rio.

11.2 Acessibilidade
	‚Ä¢	Contraste alto (dark mode opcional).
	‚Ä¢	Navega√ß√£o por teclado; aria-label nos bot√µes √≠cone.
	‚Ä¢	Tamanho de fonte e espa√ßamento ajust√°veis em Prefer√™ncias.

11.3 UX Writing (exemplos)
	‚Ä¢	‚ÄúBem-vindo(a) de volta üëã‚Äù
	‚Ä¢	‚ÄúNenhum agendamento para hoje.‚Äù
	‚Ä¢	‚ÄúRascunho salvo √†s 14:32.‚Äù
	‚Ä¢	‚ÄúAvalia√ß√£o finalizada e assinada.‚Äù

‚∏ª

12) Deploy & Opera√ß√£o

12.1 Hostinger (PHP + MySQL)
	‚Ä¢	PHP 8.3, MySQL 8, extens√µes padr√£o.
	‚Ä¢	Setup:

composer install
cp .env.example .env
php artisan key:generate
php artisan migrate --seed
php artisan storage:link
npm ci && npm run build
php artisan optimize


	‚Ä¢	Cron: php artisan schedule:run a cada minuto.
	‚Ä¢	Logs: storage/logs, rota/Admin para visualizar √∫ltimos erros.

‚∏ª

13) Roadmap de Gera√ß√£o (para Cursor)
	1.	Funda√ß√£o: Models + Migrations (User/Role/Unit/Patient/Appointment/Evolution/Assessment/Settings/Logs).
	2.	Policies + Middleware: ScopeUnit, policies por modelo, seeds de roles.
	3.	Layout base: layouts Blade, sidebar (rel√≥gio + seletor unidade), header.
	4.	Dashboard: cards e gr√°ficos.
	5.	Agenda: Calendar + AppointmentModal + Filters + EventCard + valida√ß√µes.
	6.	Pacientes: CRUD + Profile + Documents + Timeline.
	7.	Evolu√ß√µes: cria√ß√£o autom√°tica on ‚ÄúConclu√≠do‚Äù, editor, rascunho/finalizar/revisar, PDF.
	8.	Avalia√ß√µes: templates (Filament), form builder, preenchimento, PDF.
	9.	Relat√≥rios: gerador + exports.
	10.	Configura√ß√µes: perfil, apar√™ncia, branding, unidades/usu√°rios, backups.
	11.	Chat: Chatify adaptado (polling), admin auditor.
	12.	Logs & Backups: viewers + comandos agendados.
	13.	Refino UX: command palette, favoritos, tooltips, modos.
	14.	Teste & Seeds: usu√°rios demo, dados fict√≠cios por unidade.

‚∏ª

14) Anexos de Implementa√ß√£o (snippets ‚Äúguia‚Äù)

14.1 Clique em slot ‚Üí modal com auto-preenchimento

// Agenda/Calendar.php (Livewire)
public function openModal($date = null, $time = null) {
    $date = $date ?? now()->toDateString();
    $start = $time ?? now()->format('H:i');
    $end   = \Carbon\Carbon::parse($start)->addMinutes(config('system.default_duration', 60))->format('H:i');

    $this->dispatch('show-appointment-modal', date: $date, start: $start, end: $end);
}

14.2 Recalcular fim ao alterar in√≠cio

// Agenda/AppointmentModal.php (Livewire)
public function updatedStartTime() {
    if ($this->autoDuration) {
        $this->end_time = \Carbon\Carbon::parse($this->start_time)
            ->addMinutes(config('system.default_duration', 60))
            ->format('H:i');
    }
}

14.3 Policy resumida (ex.: PatientPolicy)

public function view(User $user, Patient $patient) {
    if ($user->hasRole('admin')) return true;
    if ($user->hasRole('coordenador') || $user->hasRole('secretaria')) {
        return $user->unit_id === $patient->unit_id;
    }
    if ($user->hasRole('profissional')) {
        return $user->unit_id === $patient->unit_id
            || $patient->evolutions()->where('professional_id', $user->id)->exists();
    }
    return false;
}

14.4 Chatify sem Pusher (Polling)
	‚Ä¢	Substituir listeners de Pusher por wire:poll.3s no componente de mensagens:

<div wire:poll.3s="fetchMessages">
  @foreach($messages as $m)
    <x-chat.message :msg="$m" />
  @endforeach
</div>


‚∏ª

15) Crit√©rios de Aceite (DoD ‚Äì Definition of Done)
	‚Ä¢	Sem APIs externas: toda funcionalidade opera localmente.
	‚Ä¢	Admin v√™ tudo: unidades, agendas, mensagens, relat√≥rios, logs.
	‚Ä¢	Agenda: criar em 1 clique (auto data/hora + dura√ß√£o), leitura imediata (profissional/paciente/hor√°rio).
	‚Ä¢	Evolu√ß√µes: criadas automaticamente, rascunho + finaliza√ß√£o + revis√£o.
	‚Ä¢	Avalia√ß√µes: templates somente admin; preenchimento pelos demais; assinatura confirmat√≥ria.
	‚Ä¢	Relat√≥rios: filtros salvos, exporta√ß√µes locais.
	‚Ä¢	Configura√ß√µes: branding, apar√™ncia, unidades/usu√°rios, backups.
	‚Ä¢	Chat: Chatify com polling; Admin auditor.
	‚Ä¢	Acessibilidade: navega√ß√£o por teclado, contraste, tooltips.
	‚Ä¢	Backups: di√°rios com restaura√ß√£o via UI.
	‚Ä¢	Logs: a√ß√µes e logins com IP e user agent.

‚∏ª

Blueprint_SynapsePlus_Arquitetura_v1.0.md

Sistema: Synapse+ (white-label) ‚Ä¢ Stack: Laravel 11 (PHP 8.3) + Filament 3 + Livewire 3 + TailwindCSS + MySQL 8
Arquitetura: Mon√≥lito modular, offline-ready, zero APIs externas, polling leve onde necess√°rio
Autor: Jo√£o Victor Gonzalez Pawlowicz ‚Ä¢ Data: Nov/2025

EN quick note: This is the technical & engineering architecture manual for Synapse+. It maps layers, folders, flows, policies, middleware, events, performance, backups, deploy and testing so an AI agent (Cursor Pro) can scaffold, implement and maintain the system reliably.

‚∏ª

1) Princ√≠pios de Arquitetura

PT-BR:
	‚Ä¢	Mon√≥lito modular com boundaries claros (pastas / namespaces por dom√≠nio).
	‚Ä¢	Seguran√ßa por padr√£o: Policies + Middleware de escopo por unidade; valida√ß√£o server-side (Form Requests).
	‚Ä¢	UX responsiva e acess√≠vel: Livewire 3 (lazy & navigate), Tailwind, WCAG.
	‚Ä¢	Autonomia total: sem Pusher, sem Google APIs, sem servi√ßos de terceiros.
	‚Ä¢	Observabilidade local: logs, auditoria de a√ß√µes, health checks, backups di√°rios.
	‚Ä¢	Simplicidade inteligente: polling leve (3‚Äì120s) em pontos cr√≠ticos (Chat/Agenda), nada de WebSockets externos.

EN: Modular monolith, secure-by-default, no external services, predictable polling, strong observability and backups.

‚∏ª

2) Estrutura de Pastas (Laravel + Filament + Livewire)

app/
  Console/
    Commands/
      BackupRunCommand.php
      BackupPruneCommand.php
      HealthCheckCommand.php
    Kernel.php
  Events/
    AppointmentCompleted.php
    EvolutionFinalized.php
  Exceptions/
  Http/
    Controllers/
      Auth/
      DashboardController.php
    Livewire/
      Agenda/
        Calendar.php
        AppointmentModal.php
        FilterSidebar.php
        EventCard.php
      Patients/
        PatientList.php
        PatientProfile.php
        PatientDocuments.php
      Evolutions/
        EvolutionEditor.php
        PendingEvolutions.php
      Assessments/
        AssessmentFormBuilder.php
        PatientAssessments.php
      Reports/
        ReportGenerator.php
      Settings/
        UserPreferences.php
        UnitManagement.php
        UserManagement.php
        SystemBranding.php
        BackupLogs.php
      Chat/
        ChatRoom.php
        MessageInput.php
      AuditLogs/
        AuditLogViewer.php
      Common/
        SidebarUnitSwitcher.php
    Middleware/
      Authenticate.php
      ScopeUnit.php
      EnsureRole.php
    Requests/
      Auth/LoginRequest.php
      PatientStoreRequest.php
      AppointmentStoreRequest.php
      EvolutionStoreRequest.php
      AssessmentStoreRequest.php
  Listeners/
    CreateEvolutionOnAppointmentCompleted.php
    LogModelChanges.php
  Models/
    User.php
    Profile.php
    Unit.php
    Room.php
    Appointment.php
    AppointmentCategory.php
    Patient.php
    PatientDocument.php
    PatientTimelineEvent.php
    Evolution.php
    EvolutionAddendum.php
    Assessment.php
    AssessmentTemplate.php
    Message.php
    AuditLog.php
    SystemSetting.php
    UserPreference.php
    ProfessionalSchedule.php
  Notifications/ (opcional p/ e-mails internos locais)
  Policies/
    PatientPolicy.php
    AppointmentPolicy.php
    EvolutionPolicy.php
    AssessmentPolicy.php
  Providers/
    AppServiceProvider.php
    AuthServiceProvider.php
    EventServiceProvider.php
  Services/
    ReportService.php
    BackupService.php
    HealthService.php
bootstrap/
config/
database/
  factories/
  migrations/
  seeders/
    RolesAndAdminSeeder.php
    DemoDataSeeder.php
public/
resources/
  css/
  js/
  views/
    layouts/
      app.blade.php
      guest.blade.php
    components/
      agenda/
        event-card.blade.php
        legend.blade.php
      common/
        kpi.blade.php
        card.blade.php
        table.blade.php
        timeline.blade.php
    dashboard/
    agenda/
    patients/
    evolutions/
    assessments/
    reports/
    settings/
    chat/
    logs/
routes/
  web.php
  filament.php (separar rotas do admin)
storage/
tests/

EN: Domain-oriented Livewire components; controllers are minimal; business logic in Services and Listeners; Policies for every sensitive model.

‚∏ª

3) Modelos, Relacionamentos e Mapeamento de Tabelas

3.1 N√∫cleo Operacional
	‚Ä¢	Unit 1-N Room
	‚Ä¢	Unit 1-N User (via unit_id principal; usu√°rios podem ter m√∫ltiplas unidades via pivot opcional se necess√°rio)
	‚Ä¢	User (profissional) 1-N Appointment
	‚Ä¢	Patient 1-N Appointment
	‚Ä¢	Appointment 1-1 Evolution (criada ao concluir)
	‚Ä¢	Patient 1-N Evolution, 1-N Assessment, 1-N PatientDocument, 1-N PatientTimelineEvent

3.2 Mensageria Interna
	‚Ä¢	Message: sender_id, receiver_id|null, unit_id|null, content, attachments(json)
	‚Ä¢	Admin enxerga tudo; coordenador/usu√°rios enxergam conforme unidade e participante.

3.3 Configura√ß√µes e Prefer√™ncias
	‚Ä¢	SystemSetting (chave-valor ou colunas diretas)
	‚Ä¢	system_name, logo_path, primary_color, status, status_message, version
	‚Ä¢	UserPreference: tema, default_unit_id, agenda_default_view, professional_color

EN: Keep casts where helpful (json, array); add composite indexes for frequent filters (unit_id, professional_id, start_at).

‚∏ª

4) Middleware & Escopos
	‚Ä¢	ScopeUnit
	‚Ä¢	Se Admin: ignora escopo.
	‚Ä¢	Outros: injeta current_unit_id da sess√£o e for√ßa scope em consultas sens√≠veis (Agenda, Pacientes, Evolu√ß√µes, Avalia√ß√µes, Mensagens).
	‚Ä¢	Estrat√©gia: global scopes por modelo (quando aplic√°vel) ou Services que sempre exigem unit_id.
	‚Ä¢	EnsureRole
	‚Ä¢	Verifica pap√©is m√≠nimos por rota (ex.: /filament s√≥ Admin).

EN: Prefer service-level scoping over heavy global scopes to keep queries explicit in Livewire components.

‚∏ª

5) Autoriza√ß√£o (Policies) & Permiss√µes (Spatie)
	‚Ä¢	Roles: admin, coordenador, profissional, secretaria.
	‚Ä¢	Policies por modelo:
	‚Ä¢	PatientPolicy: admin full; coord/sec = unidade; profissional = unidade ou rela√ß√£o cl√≠nica.
	‚Ä¢	AppointmentPolicy: coord/sec/admin (unidade) CRUD; profissional CRUD apenas dos seus.
	‚Ä¢	EvolutionPolicy: autor (profissional) edita at√© finalizar; coord/admin revisam; leitura conforme unidade/autor.
	‚Ä¢	AssessmentPolicy: admin/coord (unidade) leitura geral; profissional apenas suas avalia√ß√µes; admin cria Templates.
	‚Ä¢	Spatie (permissions granulares) para telas/a√ß√µes espec√≠ficas quando necess√°rio (ex.: view-reports, manage-users).

EN: Register policies in AuthServiceProvider. Use @can/Gate::allows inside Blade/Livewire to keep UI consistent.

‚∏ª

6) Eventos & Listeners (Dom√≠nio)
	‚Ä¢	Evento: AppointmentCompleted ‚Üí Listener: CreateEvolutionOnAppointmentCompleted
	‚Ä¢	Cria Evolution status=pendente, vincula patient_id, professional_id, unit_id.
	‚Ä¢	Evento: EvolutionFinalized ‚Üí Listener: LogModelChanges (gera entrada de auditoria e PatientTimelineEvent).
	‚Ä¢	Modelo Observers: auditar created/updated/deleted em Patient, Appointment, Evolution, Assessment.

EN: Decouple side-effects (audit, timeline, counters) from Livewire with Events & Listeners.

‚∏ª

7) Services (Regras de Neg√≥cio)
	‚Ä¢	ReportService
	‚Ä¢	KPIs: produtividade por profissional, frequ√™ncia por paciente, no-show rate, evolu√ß√µes pendentes.
	‚Ä¢	Sa√≠das prontas p/ gr√°ficos (arrays consum√≠veis por Chart.js).
	‚Ä¢	BackupService
	‚Ä¢	Execu√ß√£o do dump MySQL + compacta√ß√£o do storage
	‚Ä¢	Indexa√ß√£o local de backups, exclus√£o por reten√ß√£o (ex.: 14/30 dias).
	‚Ä¢	HealthService
	‚Ä¢	Checks de DB, disco, permiss√µes, fila, schedule (para exibir na Landing/Status).

EN: Services are stateless, injected where needed (or resolved in Livewire).

‚∏ª

8) Livewire & Filament ‚Äì Integra√ß√£o e Fronteira
	‚Ä¢	Filament (Admin-only):
	‚Ä¢	CRUD de Users, Units, Rooms, AssessmentTemplates, SystemSetting, Backups.
	‚Ä¢	Impersonate plugin (Admin).
	‚Ä¢	Bloquear acesso por Middleware EnsureRole:admin.
	‚Ä¢	Livewire (App do usu√°rio):
	‚Ä¢	Agenda, Pacientes, Evolu√ß√µes, Avalia√ß√µes, Relat√≥rios, Chat, Configura√ß√µes pessoais.
	‚Ä¢	Preferir Livewire.navigate p/ transi√ß√µes sem refresh; wire:poll pontual (chat/agenda).

EN: Keep Admin panel isolated (route group) and slim. Move complex domain UX to Livewire app.

‚∏ª

9) Fluxos de Dados (principais)

9.1 Agenda ‚Üí Evolu√ß√£o
	1.	Appointment status=concluido
	2.	Evento AppointmentCompleted
	3.	Listener cria Evolution(pendente) + PatientTimelineEvent
	4.	Profissional preenche & finaliza (gera PDF opcional)
	5.	Coordenador revisa (marca revisada)

9.2 Avalia√ß√µes (Templates ‚Üí Preenchimento)
	1.	Admin cria AssessmentTemplate (Filament)
	2.	Profissional cria Assessment p/ paciente (autosave)
	3.	Finaliza (assinatura confirmat√≥ria) ‚Üí bloqueia edi√ß√£o
	4.	Entra na timeline

9.3 Relat√≥rios
	‚Ä¢	ReportService agrega por per√≠odo/unidade/profissional; exporta PDF/CSV.

‚∏ª

10) L√≥gica de Agenda Inteligente (detalhe t√©cnico)
	‚Ä¢	Clique em slot vazio:
	‚Ä¢	date = hoje (ou data do slot), start_time = clicada, end_time = start + default_duration(60min)
	‚Ä¢	Usu√°rio pode alterar fim/in√≠cio; recalcular autom√°tico quando autoDuration=true.
	‚Ä¢	Valida√ß√µes:
	‚Ä¢	Regra end > start
	‚Ä¢	Checagem de sobreposi√ß√£o por (professional_id, unit_id, start_at ‚Ä¶ end_at)
	‚Ä¢	Bloqueio de hor√°rios pela ProfessionalSchedule e feriados da Unit.
	‚Ä¢	Persist√™ncia de Filtros:
	‚Ä¢	session('agenda_filters') + localStorage p/ view preferida (dia/semana/m√™s/lista).

EN: See Part 2 for UX; this section locks the server-side rules.

‚∏ª

11) Desempenho, Cache e √çndices
	‚Ä¢	MySQL √çndices recomendados:
	‚Ä¢	appointments(unit_id, professional_id, start_at)
	‚Ä¢	evolutions(unit_id, professional_id, patient_id, status)
	‚Ä¢	assessments(unit_id, patient_id, professional_id)
	‚Ä¢	messages(unit_id, sender_id, receiver_id, created_at)
	‚Ä¢	Cache leve (cache()):
	‚Ä¢	SystemSetting (branding/cores/status)
	‚Ä¢	Listas est√°veis (especialidades, categorias de atendimento)
	‚Ä¢	Paginadores & lazy:
	‚Ä¢	Tabelas grandes (Pacientes, Evolu√ß√µes) com ->paginate(25)
	‚Ä¢	Livewire: wire:init, lazy para gr√°ficos/kpis.

EN: Use database indexes aggressively; keep UI snappy via pagination + lazy hydration.

‚∏ª

12) Logs, Auditoria e Backups
	‚Ä¢	AuditLog: user_id, action, entity, entity_id, payload(json), ip, user_agent
	‚Ä¢	Gravado por Observers + Listeners.
	‚Ä¢	Backups (Commands + Schedule):
	‚Ä¢	php artisan backup:run (dump + zip)
	‚Ä¢	php artisan backup:prune --days=30
	‚Ä¢	Listagem via Livewire Settings/BackupLogs (baixar/restaurar).
	‚Ä¢	Health checks: php artisan health:check + exibir na Landing.

EN: Everything local, downloadable by Admin, no third-party storage required.

‚∏ª

13) Seguran√ßa & LGPD
	‚Ä¢	Policies em todas as opera√ß√µes sens√≠veis; @can nas Views.
	‚Ä¢	ScopeUnit obrigat√≥rio (exceto Admin).
	‚Ä¢	Sanitiza√ß√£o (HTML) nos campos ricos (Evolution/Assessment) ‚Äî biblioteca de purifier ou strip_tags + whitelist de tags.
	‚Ä¢	Uploads para storage/app/public/unit_{id}/... com links simb√≥licos; validar tipos MIME.
	‚Ä¢	Login com rate limit (Breeze), CSRF ativo.
	‚Ä¢	Exporta√ß√µes geradas on-demand e apagadas ap√≥s download (se tempor√°rias).

EN: Minimal data principle, strong policies, and unit segmentation to avoid cross-tenant leaks.

‚∏ª

14) Acessibilidade & UX Consistente
	‚Ä¢	WCAG: contraste, foco vis√≠vel, labels ARIA, navega√ß√£o por teclado.
	‚Ä¢	Componentes padronizados: <x-card>, <x-kpi>, <x-table>, <x-timeline>, <x-modal>.
	‚Ä¢	Mensagens: toasts claros (sucesso/erro/aviso), skeletons em listas e gr√°ficos.

EN: Reuse Blade components for consistent semantics and accessibility.

‚∏ª

15) Vari√°veis de Ambiente & Configura√ß√£o

.env m√≠nimo:

APP_NAME=SynapsePlus
APP_ENV=production
APP_KEY=...
APP_URL=https://example.com
APP_LOCALE=pt_BR
APP_FALLBACK_LOCALE=pt_BR

LOG_CHANNEL=stack
LOG_LEVEL=info

DB_CONNECTION=mysql
DB_HOST=localhost
DB_PORT=3306
DB_DATABASE=synapse
DB_USERNAME=...
DB_PASSWORD=...

FILESYSTEM_DISK=public

# Polling (segundos)
CHAT_POLL_INTERVAL=3
AGENDA_POLL_INTERVAL=120

# Dura√ß√£o padr√£o (minutos)
APPOINTMENT_DEFAULT_DURATION=60

EN: Keep intervals configurable; default safe for shared hosting.

‚∏ª

16) Seeds & Dados de Demonstra√ß√£o
	‚Ä¢	RolesAndAdminSeeder: cria roles, Admin e Unidade ‚ÄúPrincipal‚Äù.
	‚Ä¢	DemoDataSeeder (opcional em dev):
	‚Ä¢	Profissionais, pacientes, 2‚Äì3 salas, 20 agendamentos, 5 evolu√ß√µes, 2 avalia√ß√µes.

EN: Provide realistic data for UI verification and demo.

‚∏ª

17) Testes (Pest/Laravel)
	‚Ä¢	Feature:
	‚Ä¢	Auth + Policies (acessos por role)
	‚Ä¢	ScopeUnit (n√£o Admin)
	‚Ä¢	Fluxo Agenda‚ÜíEvolu√ß√£o (evento + listener)
	‚Ä¢	Assessment (template ‚Üí preenchimento ‚Üí finaliza√ß√£o)
	‚Ä¢	Unit:
	‚Ä¢	ReportService (agrega√ß√µes)
	‚Ä¢	BackupService (nomes/retencÃßaÃÉo)
	‚Ä¢	HealthService (checks)

EN: Prioritize critical path tests; smoke tests for Livewire components mounting.

‚∏ª

18) Deploy (Hostinger) & Opera√ß√£o

18.1 Build

composer install --no-dev --optimize-autoloader
cp .env.example .env
php artisan key:generate
php artisan migrate --seed
php artisan storage:link
npm ci && npm run build
php artisan optimize

18.2 Cron & Schedule
	‚Ä¢	Configurar cron minutely: * * * * * php /path/artisan schedule:run >> /dev/null 2>&1

18.3 Permiss√µes
	‚Ä¢	storage/ e bootstrap/cache/ grav√°veis.

18.4 Observabilidade local
	‚Ä¢	P√°gina de Status (Landing) puxando HealthService.
	‚Ä¢	Viewer de logs/admin e de backups.

EN: Shared hosting friendly; no supervisor/queues required for base features.

‚∏ª

19) Conven√ß√µes de C√≥digo
	‚Ä¢	PSR-12, strict types onde aplic√°vel.
	‚Ä¢	Nomea√ß√£o:
	‚Ä¢	Models no singular (Patient), Policies por entidade (PatientPolicy)
	‚Ä¢	Livewire em App\Http\Livewire\{Dom√≠nio}\{Componente}
	‚Ä¢	Requests SomethingStoreRequest / SomethingUpdateRequest
	‚Ä¢	Commits: convencionais (feat:, fix:, chore:‚Ä¶).
	‚Ä¢	Tradu√ß√µes: lang/pt_BR/*.php para mensagens de valida√ß√£o e UI.

EN: Keep domain folders clean; avoid god classes; prefer small services.

‚∏ª

20) Blueprints de Implementa√ß√£o (AI-friendly)

20.1 Gera√ß√£o em Ordem (Cursor)
	1.	Migrations + Models base (User/Unit/Patient/Appointment/‚Ä¶)
	2.	Policies + Seeds (roles/admin)
	3.	Middleware (ScopeUnit, EnsureRole) e rota de sele√ß√£o de unidade
	4.	Layout base (app/guest), Sidebar (rel√≥gio + switcher), Header
	5.	Dashboard (cards est√°ticos ‚Üí servi√ßos)
	6.	Agenda (Calendar + Modal + Filters + EventCard) + valida√ß√µes
	7.	Pacientes (CRUD + Profile + Documents + Timeline)
	8.	Evolu√ß√µes (evento conclu√≠do ‚Üí cria√ß√£o pendente; Editor + Pending)
	9.	Avalia√ß√µes (Templates Filament + Form Builder + Preenchimento)
	10.	Relat√≥rios (ReportService + exports)
	11.	Configura√ß√µes (Branding, Apar√™ncia, Unidades/Usu√°rios, Backups)
	12.	Chat (Chatify adaptado a polling)
	13.	Logs/Auditoria/Backups (commands + UI)
	14.	Testes b√°sicos + dados demo

20.2 Snippets cr√≠ticos

Auto-preencher fim = in√≠cio + dura√ß√£o padr√£o

$minutes = (int) (config('system.default_duration') ?? env('APPOINTMENT_DEFAULT_DURATION', 60));
$this->end_time = \Carbon\Carbon::parse($this->start_time)->addMinutes($minutes)->format('H:i');

Checar sobreposi√ß√£o

Appointment::where('unit_id', $unitId)
  ->where('professional_id', $professionalId)
  ->where(function($q) use ($start, $end) {
      $q->whereBetween('start_at', [$start, $end])
        ->orWhereBetween('end_at', [$start, $end])
        ->orWhere(function($q2) use ($start, $end) {
            $q2->where('start_at', '<=', $start)->where('end_at', '>=', $end);
        });
  })->exists();

Evento ‚Üí Listener

// fire
AppointmentCompleted::dispatch($appointment);

// listener
public function handle(AppointmentCompleted $e) {
  Evolution::firstOrCreate([
     'appointment_id' => $e->appointment->id,
  ], [
     'unit_id' => $e->appointment->unit_id,
     'patient_id' => $e->appointment->patient_id,
     'professional_id' => $e->appointment->professional_id,
     'status' => 'pendente',
  ]);
}

Polling no Chat (Livewire)

<div wire:poll.{{ env('CHAT_POLL_INTERVAL', 3) }}s="fetchMessages">
  @foreach($messages as $m)
    <x-chat.message :msg="$m"/>
  @endforeach
</div>


‚∏ª

21) Sa√∫de, Manutenibilidade e Planejamento Futuro
	‚Ä¢	HealthService vis√≠vel na Landing (status do sistema), √∫til para manuten√ß√£o planejada.
	‚Ä¢	Reten√ß√£o de backups configur√°vel (env).
	‚Ä¢	Sincroniza√ß√£o leve: jobs locais (fila sync) para tarefas curtas; nada ass√≠ncrono cr√≠tico.
	‚Ä¢	Refino incremental: habilitar drag-select na agenda, salvar filtros favoritos, dashboard modular por usu√°rio.

EN: The system is intentionally simple to host and maintain, yet feature-complete for clinics with multi-unit operations.

Deploy in vps: Ferramentas que Simplificam o Deploy em uma VPS (e que voc√™ n√£o conseguiria em hospedagem compartilhada):
Embora voc√™ possa fazer tudo manualmente em uma VPS, existem pain√©is de controle e servi√ßos que tornam o gerenciamento e o deploy Laravel incrivelmente mais f√°ceis:

Laravel Forge / Ploi.io / SpinupWP:
Provisionamento Automatizado: Voc√™ aponta para sua VPS (DigitalOcean, Vultr, AWS, etc.), e eles instalam e configuram automaticamente o Nginx, PHP-FPM, MySQL, Composer, Git, SSL (Let's Encrypt), cron jobs, etc., tudo otimizado para Laravel.
Deploy com Git: Voc√™ conecta seu reposit√≥rio Git (GitHub, GitLab, Bitbucket). Para fazer um deploy, basta fazer um git push para sua branch principal, e essas ferramentas puxam o c√≥digo, rodam composer install, php artisan migrate, npm run build (se configurado) e recarregam o PHP-FPM, tudo automaticamente.
Gerenciamento Simplificado: Pain√©is de controle web para gerenciar bancos de dados, chaves SSH, vari√°veis de ambiente, logs, agendamentos (cron jobs), e at√© monitoramento b√°sico.
Zero Downtime Deployment (opcional): Ferramentas como Forge oferecem a op√ß√£o de deploy sem tempo de inatividade, o que √© √≥timo para sistemas em produ√ß√£o.

# Blueprint_SynapsePlus_DesignSystem_v1.0.md

## üé® Introdu√ß√£o
O *Synapse+* possui um Design System totalmente integrado √† stack *Laravel + Filament + Livewire*, projetado para oferecer uma experi√™ncia visual coerente, acess√≠vel e eficiente.
Este documento define todos os fundamentos visuais, componentes reutiliz√°veis, padr√µes de interface e diretrizes de usabilidade.

---

## üß± 1. Fundamentos de Design

### 1.1 Cores Principais
| Nome | Hex | Uso |
|------|-----|-----|
| Azul Confian√ßa | #004684 | Cor prim√°ria principal (bot√µes, links, √™nfases) |
| Azul Acolhimento | #277200 | Destaques e intera√ß√µes secund√°rias |
| Laranja Amor | #B70D04 | A√ß√µes importantes, estados de aten√ß√£o |
| Amarelo Alegria | #F2E20F | Feedbacks positivos, sucesso |
| Verde Tranquilidade | #01873B | Elementos confirmat√≥rios e status ok |
| Cinza Transpar√™ncia | #C5C8C8 | Backgrounds neutros e divis√µes visuais |

#### Tons neutros
| Nome | Hex | Uso |
|------|-----|-----|
| Branco | #FFFFFF | Fundo principal |
| Cinza claro | #F5F5F5 | Backgrounds alternados |
| Cinza m√©dio | #E5E5E5 | Bordas e separadores |
| Cinza escuro | #333333 | Texto principal e √≠cones |

### 1.2 Tipografia
- *Fonte principal:* Inter (Sans-serif moderna e leg√≠vel)
- *Peso:* 400 regular / 600 semibold / 700 bold  
- *Escalas de tamanho:*  
  - H1: 32px  
  - H2: 24px  
  - H3: 18px  
  - Corpo: 16px  
  - Pequeno: 14px  

### 1.3 Grid e espa√ßamento
- Base: 4px  
- Margens e paddings m√∫ltiplos de 8px  
- Layout fluido com max-width: 1440px  
- Colunas de 12 unidades (para dashboards e relat√≥rios)

### 1.4 Bordas e sombras
- Raio padr√£o: 0.5rem  
- Sombra leve: 0 2px 4px rgba(0,0,0,0.1)  
- Sombra m√©dia: 0 4px 10px rgba(0,0,0,0.15)

### 1.5 √çcones
- Sistema *Lucide Icons*, renderizados via Blade <x-icon name="edit"/>  
- Tamanho padr√£o: 18px  
- Cores herdam do contexto (currentColor)

---

## üß© 2. Componentes UI Reutiliz√°veis

### 2.1 Bot√µes
- *Prim√°rio:* Azul Confian√ßa, texto branco  
- *Secund√°rio:* Branco com borda azul  
- *Perigo:* Laranja Amor, texto branco  
- *Desabilitado:* Cinza m√©dio, cursor bloqueado  

Estados: hover, focus, active, disabled  
Feedback: ripple leve (CSS) + wire:loading spinner

### 2.2 Inputs e formul√°rios
- Campos arredondados, borda 1px solid #E5E5E5  
- Label sempre acima do campo  
- Placeholder descritivo  
- Mensagens de erro em vermelho (#B70D04)  
- Campos obrigat√≥rios com asterisco *

Componentes Blade:
blade
<x-form.input label="Nome do paciente" wire:model="patient.name" required />
<x-form.select label="Profissional" :options="$professionals" />
<x-form.textarea label="Observa√ß√µes" rows="3" />


### 2.3 Cards e m√©tricas
- Usados em dashboards e relat√≥rios  
- Estrutura: t√≠tulo, valor, √≠cone  
- Op√ß√µes de cor por contexto (ex.: success, warning, info)  

blade
<x-card metric title="Atendimentos do dia" value="32" icon="calendar" color="primary" />


### 2.4 Tabelas
- Cabe√ßalho com cor neutra (#F5F5F5)  
- Linhas alternadas (:nth-child(even))  
- √çcones de a√ß√£o √† direita (editar, excluir, visualizar)

Pagina√ß√£o padr√£o: 25 registros / Lazy loading habilitado

### 2.5 Modais
- Fundo semitransparente (rgba(0,0,0,0.4))  
- Container centralizado (max-width: 700px)  
- Bot√µes padr√£o: ‚ÄúSalvar‚Äù, ‚ÄúCancelar‚Äù  
- Fechamento com tecla Esc ou clique fora

### 2.6 Tooltips e popovers
- Tooltip: fundo preto 80% opacidade, texto branco  
- Popovers: usados em listas e configura√ß√µes r√°pidas  

### 2.7 Timeline (Linha do Tempo do Paciente)
- Estrutura vertical com pontos coloridos por tipo de evento  
- Tipos: evolu√ß√£o, avalia√ß√£o, documento, nota  
- Cada item mostra data, autor e resumo

blade
<x-timeline :events="$patient->timelineEvents" />


### 2.8 Alertas e toasts
- success: verde claro + √≠cone check  
- error: vermelho + √≠cone x  
- info: azul claro + √≠cone info  
- warning: amarelo + √≠cone alerta

---

## üß≠ 3. Layouts Principais

### 3.1 Sidebar
- Lateral esquerda fixa  
- √çcones + labels colaps√°veis  
- Exibe *relogio din√¢mico* e *dropdown de unidade*  
- Cores por fun√ß√£o (active = Azul Confian√ßa)

Itens principais:
- Dashboard  
- Agenda  
- Pacientes  
- Evolu√ß√µes  
- Avalia√ß√µes  
- Relat√≥rios  
- Chat  
- Configura√ß√µes  

### 3.2 Header
- Barra superior fixa  
- Exibe nome do usu√°rio e avatar  
- Bot√£o de logout + menu r√°pido (Ajuda / Perfil)  
- Campo de busca global (filtra pacientes/agendamentos)

### 3.3 Dashboard
- Cards m√©tricos (atendimentos, evolu√ß√µes pendentes, pacientes ativos)  
- Gr√°ficos de barras e pizza (Chart.js)  
- Link r√°pido para agenda e relat√≥rios

### 3.4 Agenda
- Modos de visualiza√ß√£o: dia, semana, m√™s, lista  
- Drag & drop para alterar hor√°rios  
- Cada profissional com cor personalizada  
- Clique em hor√°rio ‚Üí abre modal pr√©-preenchido com data/hora atuais  

### 3.5 Pacientes
- Lista filtr√°vel com busca por nome, tag ou unidade  
- Perfil detalhado ‚Üí abas: dados, documentos, linha do tempo  
- Upload de arquivos (PDF, JPG, PNG)

### 3.6 Evolu√ß√µes
- Exibi√ß√£o pendente/conclu√≠da/finalizada  
- Editor com autosave e rascunho  
- Campo de assinatura digital simples (confirma√ß√£o textual)  
- Exporta√ß√£o PDF

### 3.7 Avalia√ß√µes
- Builder de formul√°rio (arrastar e soltar campos)  
- Templates personalizados por especialidade  
- Avalia√ß√µes salvas na timeline do paciente

### 3.8 Relat√≥rios
- Filtros por unidade, profissional e per√≠odo  
- Exporta√ß√£o em PDF/CSV  
- Gr√°ficos de desempenho e frequ√™ncia  

### 3.9 Configura√ß√µes
- Perfil de usu√°rio (nome, conselho, senha)  
- Prefer√™ncias (tema, agenda padr√£o)  
- Gest√£o de unidades e usu√°rios (somente admin)  
- Personaliza√ß√£o visual (nome do sistema, logo, cores)

### 3.10 Chat Interno
- Interface simples (Chatify adaptado)  
- Polling via Livewire a cada 3s  
- Admin visualiza todas as conversas  
- Mensagens agrupadas por usu√°rio e unidade  

### 3.11 Logs e Auditoria
- Tabela com data, usu√°rio, a√ß√£o e entidade  
- Filtros por tipo e per√≠odo  
- Exporta√ß√£o CSV

---

## üí¨ 4. Estados e Intera√ß√µes

| Estado | Descri√ß√£o | Comportamento |
|---------|------------|----------------|
| Hover | Cursor sobre elemento | Eleva√ß√£o leve e cor mais intensa |
| Focus | Campo ativo | Borda azul Confian√ßa 2px |
| Active | Clique pressionado | Sombra reduzida e cor escura |
| Disabled | Campo/bot√£o inativo | Cinza claro e cursor bloqueado |
| Loading | A√ß√£o em processamento | Spinner + texto ‚ÄúSalvando...‚Äù |
| Empty | Listas ou dados vazios | √çcone + texto ‚ÄúNenhum registro encontrado‚Äù |

### Microintera√ß√µes
- *Agenda:* destaque animado no slot clicado.  
- *Formul√°rios:* auto focus no primeiro campo com erro.  
- *Chat:* rolagem autom√°tica para a √∫ltima mensagem.  
- *Notifica√ß√µes:* som opcional e fade-out suave.  

---

## ‚ôø 5. Acessibilidade (WCAG 2.2)
- Contraste m√≠nimo 4.5:1  
- Labels vis√≠veis em todos os campos  
- Teclas de atalho: Ctrl + / abre busca global  
- Navega√ß√£o por teclado habilitada (tabindex consistente)  
- Feedback textual sempre presente (n√£o s√≥ cores)  

---

## ü™∂ 6. UX Writing (Textos e Mensagens)

### 6.1 Mensagens padr√£o
- ‚ÄúTudo certo! Suas altera√ß√µes foram salvas.‚Äù  
- ‚ÄúVerifique os campos obrigat√≥rios antes de prosseguir.‚Äù  
- ‚ÄúNenhum agendamento encontrado para hoje.‚Äù  
- ‚ÄúOps! Ocorreu um erro inesperado.‚Äù  
- ‚ÄúDeseja realmente excluir este registro?‚Äù  

### 6.2 Microcopy de bot√µes
| A√ß√£o | Texto |
|------|-------|
| Salvar | ‚ÄúSalvar altera√ß√µes‚Äù |
| Criar | ‚ÄúAdicionar novo‚Äù |
| Editar | ‚ÄúEditar registro‚Äù |
| Excluir | ‚ÄúRemover permanentemente‚Äù |
| Cancelar | ‚ÄúCancelar e voltar‚Äù |

### 6.3 Tonalidade
- Linguagem acolhedora e clara.  
- Evitar termos t√©cnicos desnecess√°rios.  
- Sempre indicar o pr√≥ximo passo ap√≥s mensagens de erro.  

---

## üß¨ 7. Branding Din√¢mico

### 7.1 Personaliza√ß√£o via painel Admin
- Nome do sistema (SystemSetting.system_name)  
- Logo (upload PNG/SVG)  
- Cores prim√°rias e secund√°rias  
- Status do sistema (Online / Em manuten√ß√£o)  
- Mensagem de status exibida na tela de login  

### 7.2 Tela de login (Landing)
- Logo + nome din√¢micos  
- Campo de login e senha centralizados  
- Rodap√© com informa√ß√µes de status e vers√£o do sistema  
- Link para suporte (email configur√°vel)

### 7.3 Modo manuten√ß√£o
Quando o status for ‚ÄúEm manuten√ß√£o‚Äù, exibir:

üõ† O sistema est√° temporariamente em manuten√ß√£o.
Por favor, tente novamente em alguns minutos.

Somente Admin pode autenticar durante o modo manuten√ß√£o.

---

## üì± 8. Layout Responsivo

| Dispositivo | Layout | Detalhes |
|--------------|---------|----------|
| Mobile (<768px) | Layout em abas | Sidebar colapsada, header fixo |
| Tablet (768‚Äì1024px) | Sidebar retr√°til | Cards em 2 colunas |
| Desktop (>1024px) | Layout completo | Sidebar fixa + dashboard 3 colunas |

- Navega√ß√£o simplificada para telas pequenas  
- Componentes colaps√°veis automaticamente  
- Bot√£o ‚Äúvoltar‚Äù vis√≠vel em todas as telas no mobile

---

## üß© 9. Exemplos Descritivos de Telas

### Tela: Login
Layout minimalista centralizado, fundo branco, logo do sistema acima, dois campos (email e senha), bot√£o azul Confian√ßa ‚ÄúEntrar‚Äù.  
Rodap√© mostra ‚ÄúSistema online‚Äù ou ‚ÄúEm manuten√ß√£o‚Äù.

### Tela: Dashboard
Grid 3x2 de cards m√©tricos.  
Topo com filtros de unidade e per√≠odo.  
Cards coloridos e √≠cones contextuais.

### Tela: Agenda
Calend√°rio semanal com colunas de profissionais.  
Eventos coloridos por profissional.  
Clique ‚Üí abre modal preenchido.  
Legenda inferior com cores dos profissionais.

### Tela: Paciente
Header com nome e status (ativo/inativo).  
Abas: Dados Gerais, Documentos, Linha do Tempo.  
Timeline vertical mostrando evolu√ß√µes e avalia√ß√µes.  

### Tela: Evolu√ß√£o
Editor de texto rico com auto salvamento.  
Bot√µes: Salvar Rascunho / Finalizar.  
Campo de assinatura digital textual.  
Ao finalizar ‚Üí bloqueia edi√ß√£o e registra log.  

### Tela: Avalia√ß√£o
Builder com arrastar campos.  
Preview em tempo real.  
Bot√£o ‚ÄúSalvar modelo‚Äù (Admin) ou ‚ÄúFinalizar avalia√ß√£o‚Äù (Profissional).  

### Tela: Relat√≥rios
Filtros √† esquerda (unidade, profissional, data).  
Gr√°fico √† direita (barras/pizza).  
Bot√£o ‚ÄúExportar PDF‚Äù.  

### Tela: Chat
Janela dividida (lista de contatos + mensagens).  
Polling autom√°tico a cada 3s.  
Admin v√™ todas as conversas.  

### Tela: Configura√ß√µes
Abas laterais: Perfil / Prefer√™ncias / Sistema / Backups.  
Formul√°rios com inputs e selects padronizados.  
Upload de logo e defini√ß√£o de cor prim√°ria.  

---

## üß≠ 10. Diretrizes Gerais

- Interface deve ser *autoexplicativa*.  
- Sempre priorizar *clareza visual e usabilidade*.  
- Nenhum elemento deve depender exclusivamente de cor.  
- Todas as telas precisam manter o mesmo layout grid e espa√ßamentos.  
- Focar em consist√™ncia e fluidez de navega√ß√£o (sem reloads completos).

---

## ‚úÖ Conclus√£o
Este Design System define a linguagem visual e interativa do *Synapse+*, garantindo consist√™ncia e acessibilidade.  
Com ele, o Cursor Pro pode gerar uma interface moderna, acolhedora e 100% alinhada ao prop√≥sito do sistema.

Blueprint_SynapsePlus_Funcionalidades_e_Fluxos_v1.1.md

üß≠ Introdu√ß√£o

O Synapse+ √© um sistema cl√≠nico multiunidade e modular, desenvolvido para centralizar a opera√ß√£o de cl√≠nicas interdisciplinares com foco em efici√™ncia, acessibilidade e simplicidade.
Este documento descreve todas as funcionalidades, fluxos, intera√ß√µes, permiss√µes e l√≥gicas internas, com base na vers√£o mais recente de requisitos definidos ‚Äî sem depend√™ncia de APIs externas.

‚∏ª

üë• 1. Perfis e Pap√©is de Usu√°rio

1.1 Pap√©is e Responsabilidades

Papel	N√≠vel	Descri√ß√£o	Acesso
Admin	Global	Gerencia todo o sistema e todas as unidades. Cria usu√°rios, define permiss√µes, configura branding/estado e supervisiona logs/backups.	Acesso completo (todas as unidades)
Coordenador	Unidade	Supervisiona equipe da unidade, cria/edita pacientes, agenda e relat√≥rios, revisa evolu√ß√µes.	Escopo da unidade
Profissional	Individual	Realiza atendimentos, preenche evolu√ß√µes e avalia√ß√µes.	Pacientes/atendimentos pr√≥prios
Secret√°ria	Unidade	Organiza agenda e cadastro de pacientes da unidade.	Agenda/pacientes da unidade (sem acesso cl√≠nico a evolu√ß√µes/avalia√ß√µes)

1.2 Regras de Visualiza√ß√£o
	‚Ä¢	Admin: enxerga tudo (todas as unidades, todos os m√≥dulos).
	‚Ä¢	Coordenador: v√™ tudo da sua unidade.
	‚Ä¢	Profissional: v√™ apenas seus atendimentos e pacientes vinculados.
	‚Ä¢	Secret√°ria: v√™ agenda e pacientes da unidade; n√£o v√™ conte√∫do cl√≠nico (evolu√ß√µes/avalia√ß√µes).

‚∏ª

üß© 2. M√≥dulos Principais e Funcionalidades

2.1 Dashboard

Fun√ß√µes
	‚Ä¢	Cards informativos: Atendimentos do dia, Evolu√ß√µes pendentes, Pacientes ativos.
	‚Ä¢	Gr√°ficos de produtividade (atendimentos por per√≠odo).
	‚Ä¢	Acessos r√°pidos: Agenda, Relat√≥rios.
	‚Ä¢	Atualiza√ß√£o manual (sem tempo real obrigat√≥rio).

Visualiza√ß√£o
	‚Ä¢	Admin: vis√£o global (unidades agregadas + filtro de unidade).
	‚Ä¢	Coordenador: vis√£o da unidade.
	‚Ä¢	Profissional/Secret√°ria: vis√£o focada no papel.

‚∏ª

2.2 Agenda Inteligente

Funcionalidades
	‚Ä¢	Modos: dia, semana, m√™s e lista.
	‚Ä¢	Filtros: profissional, paciente, sala, status.
	‚Ä¢	Drag & Drop para ajustar hor√°rios.
	‚Ä¢	Cores por profissional (definidas nas prefer√™ncias).
	‚Ä¢	Cria√ß√£o r√°pida (clique no hor√°rio) ‚Üí modal com:
	‚Ä¢	Data: hoje por padr√£o
	‚Ä¢	In√≠cio: hor√°rio clicado (ou atual)
	‚Ä¢	T√©rmino: +1h autom√°tica (edit√°vel)
	‚Ä¢	Paciente e profissional: obrigat√≥rios
	‚Ä¢	Bloqueio de dias/feriados configur√°veis por unidade.
	‚Ä¢	Agenda unificada para Admin/Coordenador; individual para Profissional.

Regras
	‚Ä¢	Secret√°ria: cria/edita/exclui agendamentos da unidade.
	‚Ä¢	Profissional: cria/edita apenas os seus.
	‚Ä¢	Coordenador/Admin: acesso total conforme escopo.

Fluxo Autom√°tico
	1.	Atendimento criado ‚Üí executado ‚Üí
	2.	Marcado como conclu√≠do ‚Üí
	3.	Gera pend√™ncia de evolu√ß√£o do profissional respons√°vel.

UX
	‚Ä¢	Evento mostra paciente + profissional + hor√°rio.
	‚Ä¢	Tooltip exibe detalhes/observa√ß√µes.
	‚Ä¢	Clique em evento abre edi√ß√£o r√°pida.
	‚Ä¢	Legenda de cores por profissional.

‚∏ª

2.3 Pacientes

Fun√ß√µes
	‚Ä¢	Cadastro m√≠nimo (nome obrigat√≥rio) + dados cl√≠nicos b√°sicos.
	‚Ä¢	Upload de documentos (PDF/JPG/PNG).
	‚Ä¢	Linha do tempo com eventos cl√≠nicos e administrativos.
	‚Ä¢	Exporta√ß√£o de prontu√°rio (PDF consolidado).
	‚Ä¢	Busca por nome, documento, tag, unidade.

Regras de Acesso
	‚Ä¢	Profissional: somente pacientes que atende.
	‚Ä¢	Coordenador/Admin: todos da unidade.
	‚Ä¢	Secret√°ria: cadastro/visualiza√ß√£o b√°sica (sem cl√≠nica detalhada).

UX
	‚Ä¢	Lista filtr√°vel com contadores.
	‚Ä¢	Perfil com abas: Dados, Documentos, Linha do Tempo.
	‚Ä¢	Eventos com tipo (√≠cone/cor): evolu√ß√£o, avalia√ß√£o, documento, nota.

‚∏ª

2.4 Evolu√ß√µes

Fluxo
	1.	Agendamento marcado como conclu√≠do ‚Üí cria√ß√£o autom√°tica de evolu√ß√£o pendente.
	2.	Profissional preenche Relato Cl√≠nico, Conduta, Objetivos.
	3.	Pode Salvar rascunho ou Finalizar (assinatura textual/confirmat√≥ria).
	4.	Ao finalizar: evolu√ß√£o fica bloqueada, adicionada na timeline do paciente.

Funcionalidades
	‚Ä¢	Busca por paciente e intervalo de datas.
	‚Ä¢	Exporta√ß√£o PDF (individual).
	‚Ä¢	Hist√≥rico de altera√ß√µes (quem/quando).
	‚Ä¢	Coordenador/Admin podem revisar pend√™ncias.

UX
	‚Ä¢	Editor limpo, autosave de rascunho.
	‚Ä¢	Status claros: rascunho, pendente, finalizada.
	‚Ä¢	Confirmar antes de finalizar (bloqueio p√≥s-confirma√ß√£o).

‚∏ª

2.5 Avalia√ß√µes

Funcionalidade
	‚Ä¢	Criadas manualmente (n√£o dependem da agenda).
	‚Ä¢	Iniciadas por Profissional/Coordenador/Admin.
	‚Ä¢	Baseadas em templates (modelo).
	‚Ä¢	Campos din√¢micos: texto, n√∫mero, data, sele√ß√£o, checkbox.
	‚Ä¢	Finaliza√ß√£o com confirma√ß√£o textual (sem assinatura complexa).
	‚Ä¢	Registro na timeline do paciente.

Templates
	‚Ä¢	Apenas Admin cria/edita modelos no painel administrativo interno.

UX
	‚Ä¢	Form Builder (arrastar e soltar campos).
	‚Ä¢	Preview do formul√°rio antes de salvar.
	‚Ä¢	Evid√™ncia de campos obrigat√≥rios.

‚∏ª

2.6 Relat√≥rios

Tipos
	‚Ä¢	Cl√≠nico: evolu√ß√µes e avalia√ß√µes consolidadas.
	‚Ä¢	Frequ√™ncia: presen√ßas/aus√™ncias por paciente.
	‚Ä¢	Produtividade: atendimentos por profissional.

Funcionalidades
	‚Ä¢	Filtros: unidade, profissional, paciente, per√≠odo.
	‚Ä¢	Exporta√ß√£o: PDF e CSV.
	‚Ä¢	Visualiza√ß√£o com gr√°ficos (barras/pizza) internos.

UX
	‚Ä¢	Tabelas com filtros e totais.
	‚Ä¢	Indicadores coloridos (status).

‚∏ª

2.7 Configura√ß√µes

Subm√≥dulos

Aba	Fun√ß√£o
Perfil	Atualizar dados do usu√°rio e senha
Prefer√™ncias	Tema claro, cor da agenda, unidade padr√£o, view padr√£o (dia/semana/m√™s/lista)
Agenda	Bloqueios/feriados, hor√°rios de atendimento por profissional
Unidades (Admin)	CRUD de unidades/salas
Usu√°rios (Admin)	CRUD e atribui√ß√£o de permiss√µes/roles
Sistema (Admin)	Nome, logo, cores, status (online/manuten√ß√£o) e mensagem
Backups (Admin)	Exporta√ß√£o de dados e logs, reten√ß√£o

Destaques
	‚Ä¢	Troca de unidade pela sidebar (dropdown).
	‚Ä¢	Admin altera nome/cores do sistema (white-label).
	‚Ä¢	Modo Manuten√ß√£o com mensagem exibida no login.

‚∏ª

2.8 Chat Interno (sem API externa)

Descri√ß√£o
	‚Ä¢	Mensageria por unidade, sem servi√ßos de terceiros.
	‚Ä¢	Atualiza√ß√£o via polling (ex.: 3s).
	‚Ä¢	Admin visualiza todas as conversas.
	‚Ä¢	Conversas 1:1 ou grupos por unidade (simples).

UX
	‚Ä¢	Lista de contatos √† esquerda; mensagens √† direita.
	‚Ä¢	Badge üîµ para novas mensagens.
	‚Ä¢	Rolagem autom√°tica para a √∫ltima mensagem.

‚∏ª

2.9 Notifica√ß√µes Internas
	‚Ä¢	Criadas por Admin/Coordenador.
	‚Ä¢	Tipos: aviso, lembrete, alerta cl√≠nico.
	‚Ä¢	Exibi√ß√£o em painel e mural.
	‚Ä¢	Marcadores: lido/n√£o lido.
	‚Ä¢	Filtros por data, tipo e unidade.

‚∏ª

2.10 Logs e Auditoria
	‚Ä¢	Registro de todas as a√ß√µes CRUD (quem/quando/onde).
	‚Ä¢	Campos: entidade, a√ß√£o, autor, IP, data/hora.
	‚Ä¢	Exporta√ß√£o CSV.
	‚Ä¢	Backup autom√°tico di√°rio (base e arquivos).
	‚Ä¢	Acesso restrito ao Admin.

‚∏ª

üîÑ 3. Fluxos L√≥gicos e de Dados

Fluxo A ‚Äî Agendamento ‚Üí Evolu√ß√£o
	1.	Secret√°ria/Profissional cria atendimento.
	2.	Conclus√£o do atendimento ‚Üí gera evolu√ß√£o pendente.
	3.	Profissional preenche e finaliza a evolu√ß√£o.
	4.	Evolu√ß√£o √© adicionada √† timeline do paciente.

Fluxo B ‚Äî Avalia√ß√£o Cl√≠nica
	1.	Profissional/Coordenador/Admin inicia avalia√ß√£o.
	2.	Preenche conforme template.
	3.	Finaliza (confirma√ß√£o textual) ‚Üí bloqueia edi√ß√£o.
	4.	Registro vai para timeline.

Fluxo C ‚Äî Notifica√ß√£o Interna
	1.	Admin/Coordenador cria notifica√ß√£o.
	2.	Usu√°rios recebem no painel/mural.
	3.	Ao marcar lida, remove badge.

Fluxo D ‚Äî Logs
	1.	A√ß√£o executada ‚Üí gera log.
	2.	Admin consulta e exporta quando necess√°rio.

‚∏ª

üí° 4. Recursos Inteligentes e Autom√°ticos

Evento	A√ß√£o
Conclus√£o de atendimento	Cria evolu√ß√£o pendente (por profissional)
Evolu√ß√£o finalizada	Marca pend√™ncia resolvida + timeline
Avalia√ß√£o finalizada	Adiciona timeline
Login	Registra IP + hor√°rio (log)
Mudan√ßa de unidade (sidebar)	Atualiza escopo de dados
Rotina di√°ria	Backup autom√°tico (DB + storage)


‚∏ª

üé® 5. UX e Navega√ß√£o

Padr√µes Gerais
	‚Ä¢	Layout fixo: sidebar + header.
	‚Ä¢	Cores neutras e realces funcionais.
	‚Ä¢	Itens ordenados por frequ√™ncia de uso.
	‚Ä¢	Intera√ß√µes r√°pidas, sem reload total de p√°gina.

Landing Page (Login)
	‚Ä¢	Exibe status do sistema (online/manuten√ß√£o).
	‚Ä¢	Mostra logo/nome din√¢micos.
	‚Ä¢	Campos simples de login; rodap√© com vers√£o e suporte.

Sidebar
	‚Ä¢	Rel√≥gio em tempo real.
	‚Ä¢	Dropdown de unidade (se houver mais de uma).
	‚Ä¢	√çcones + labels; cor de ativo em destaque.

Responsividade
	‚Ä¢	Mobile: listas/abas.
	‚Ä¢	Tablet: grid simplificado.
	‚Ä¢	Desktop: visual completo.

‚∏ª

‚öô 6. Seguran√ßa e Permiss√µes
	‚Ä¢	Acesso com email/senha; logout expl√≠cito.
	‚Ä¢	Sess√£o expira ap√≥s 2h inativas (ajust√°vel).
	‚Ä¢	Dados escopados por unidade (exceto Admin).
	‚Ä¢	Todos os eventos sens√≠veis geram log.
	‚Ä¢	Backups di√°rios; reten√ß√£o configur√°vel.
	‚Ä¢	Assinatura simples (confirma√ß√£o textual), sem armazenamento de biometria ou chaves externas.

‚∏ª

üöÄ 7. Melhorias e Extens√µes Futuras
	‚Ä¢	Tema escuro opcional.
	‚Ä¢	Chat de grupo por unidade e threads.
	‚Ä¢	Pesquisa global instant√¢nea (pacientes/agenda/conte√∫do).
	‚Ä¢	Filtros r√°pidos e presets salvos por usu√°rio.
	‚Ä¢	Exporta√ß√£o de relat√≥rios agendada (manual, sem API).
	‚Ä¢	Indicadores de performance personaliz√°veis por unidade.
	‚Ä¢	Favoritos de telas/filtros por usu√°rio.